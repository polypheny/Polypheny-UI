<c-modal [visible]="_creator.showModal()" (visibleChange)="_creator.showModal.set($event)">
    @if (_creator.showModal()) {
        <c-modal-header>
            <h5 cModalTitle>{{ (_creator.isModifying() ? 'Modify ' : 'Create ') + _creator.type }} Job</h5>
            <button (click)="_creator.close()" cButtonClose></button>
        </c-modal-header>
        <c-modal-body>
            <c-input-group class="mb-3">
                <span cInputGroupText>Name</span>
                <input cFormControl placeholder="Job Name" [(ngModel)]="_creator.name"
                       autocomplete="off"/>
            </c-input-group>

            <c-input-group class="mb-3">
                <label cInputGroupText for="job-wf">Workflow</label>
                <select cSelect id="job-wf" [(ngModel)]="_creator.workflowName">
                    @for (wfName of _creator.workflowNames(); track wfName) {
                        <option [value]="wfName">{{ wfName }}</option>
                    }
                </select>
            </c-input-group>
            <c-input-group class="mb-3" cCol>
                <span cInputGroupText>Version</span>
                <input cFormControl sizing="sm" id="job-wf-version"
                       type="number" autocomplete="off" [min]="0" [(ngModel)]="_creator.version">
            </c-input-group>
            <c-form-check [switch]="true" class="mb-3">
                <input cFormCheckInput id="on-startup" type="checkbox" [(ngModel)]="_creator.enableOnStartup" name="on-startup">
                <label cFormCheckLabel for="on-startup">Enable on Startup</label>
            </c-form-check>

            @switch (_creator.type) {
                @case ('SCHEDULED') {
                    <c-input-group class="mb-3" cCol>
                        <span cInputGroupText>Cron Expression</span>
                        <input cFormControl placeholder="* * * * *" [(ngModel)]="_creator.schedule"
                               autocomplete="off"/>
                    </c-input-group>
                }
            }
        </c-modal-body>
        <c-modal-footer>
            <button (click)="_creator.close()" cButton color="secondary">Close</button>
            <div>
                <button cButton color="primary" (click)="saveJob()" [disabled]="_creator.workflowName.length < 1 || _creator.name.length < 1">
                    {{ _creator.isModifying() ? 'Modify' : 'Create' }}
                </button>
            </div>
        </c-modal-footer>
    }
</c-modal>