<form cForm (ngSubmit)="saveConfig()">

    <!-- Enforce Checkpoint -->
    <c-form-check class="mb-3">
        <input cFormCheckInput id="form-check-input" type="checkbox" [(ngModel)]="editableConfig().enforceCheckpoint"
               name="form-check-input">
        <label cFormCheckLabel for="form-check-input">Always create checkpoint</label>
    </c-form-check>

    <!-- Preferred Stores -->
    <div class="mb-3" *ngIf="editableConfig().preferredStores.length == 1">
        <label cLabel for="store-0">Preferred Store:</label>
        <input cFormControl type="text" autocomplete="off" id="store-0" name="store-0"
               [(ngModel)]="editableConfig().preferredStores[0]">
    </div>
    <div class="mb-3" *ngIf="editableConfig().preferredStores.length > 1">
        <label cLabel>Preferred Stores:</label>
        <div class="mb-2" *ngFor="let store of editableConfig().preferredStores; let i = index">
            <label cLabel for="store-{{i}}">Output {{ i }}:</label>
            <input cFormControl type="text" autocomplete="off" id="store-{{i}}" name="store-{{i}}"
                   [(ngModel)]="editableConfig().preferredStores[i]">
        </div>
    </div>

    <!-- Common Type -->
    <div class="mb-3">
        <label cLabel for="commonType">Common Type:</label>
        <select cSelect id="commonType" [(ngModel)]="editableConfig().commonType" name="commonType">
            <option *ngFor="let type of commonTypes" [value]="type">{{ type }}</option>
        </select>
    </div>

    <!-- Control State Merger -->
    <div class="mb-4">
        <label cLabel for="controlStateMerger">Control State Merger:</label>
        <select cSelect id="controlStateMerger" [(ngModel)]="editableConfig().controlStateMerger"
                name="controlStateMerger">
            <option *ngFor="let merger of controlStateMergers" [value]="merger">{{ merger }}</option>
        </select>
    </div>

    <!-- Save Button -->
    <button cButton type="submit" color="primary"
            [disabled]="this.serializedConfig() === (JSON.stringify(this.editableConfig()))">
        Save
    </button>
</form>

