<svg data-testid="connection">
    <path [attr.d]="path" [ngClass]="'state-' + data.state?.()"
          [class.is-control]="isControl" [class.is-magnetic]="data.isMagnetic" [class.is-fail-control]="isFailControl"/>
</svg>
@if (center && start && end) {
    <div id="path-label" [style.left.px]="center().x"
         [style.top.px]="center().y" [style.transform]="'translate(-50%, -50%) rotate(' + center().angle + 'deg)'">
        <i class="fa fa-play" [class.fa-lg]="!isControl" [class.fa-md]="isControl" [ngClass]="'state-' + data.state?.()"></i>
    </div>
}

@if (data.isMulti && center && start && end) {
    <div class="multi-index" [style.left.px]="center().x"
         [style.top.px]="center().y">
        @if (data.isMulti) {
            <span class="multi-index badge bg-dark p-1">{{ data.multiIdx }}</span>
        }
    </div>
}