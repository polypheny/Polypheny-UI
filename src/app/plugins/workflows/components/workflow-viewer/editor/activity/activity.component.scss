@use "sass:math";
@import "../vars";

:host {
  display: block;
  border: 3px solid transparent; // when a visible border appears, the node does not move
  cursor: pointer;
  box-sizing: border-box;
  width: $node-width;
  height: auto;
  position: relative;
  user-select: none;

  &:hover {
    border-color: var(--cui-light);
  }

  &.selected {
    border-color: var(--cui-secondary);
  }

  .activity {
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.5);
    background: var(--cui-light);

    &.is-opened {
      box-shadow: 0 0 20px 2px var(--cui-primary);

    }
  }

  .status-bar {
    height: 16px;

    &.state-executing {
      background: #0d6efd; // fallback if linear gradient is not supported
    }

    .status-text {
      font-size: 12px;
      margin-top: -2px;
    }
  }

  .activity-inputs, .activity-outputs {
    min-width: 36px;
  }

  .output {
    text-align: right;
  }

  .input {
    text-align: left;
  }

  .output-spacer {
    height: $control-port-size + 8px; // data in and out-ports should start at same height
  }

  .output-socket {
    text-align: right;
    display: inline-block;
  }

  .input-socket {
    text-align: left;
    display: inline-block;
  }

  .control-inport {
    margin-left: calc(-#{$control-port-size} / 2);
  }

  .data-inport {
    margin-left: calc(-#{$data-port-size} / 2);
  }

  .control-outport {
    margin-right: calc(-#{$control-port-size} / 2);
  }

  .data-outport {
    margin-right: calc(-#{$data-port-size} / 2);
  }

  #activity-notes {
    resize: none;
    background: var(--cui-light);
  }
}
