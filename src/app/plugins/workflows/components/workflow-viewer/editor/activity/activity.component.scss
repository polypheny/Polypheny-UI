@use "sass:math";
@import "../vars";

:host {
  display: block;
  border: 3px solid transparent; // when a visible border appears, the node does not move
  cursor: pointer;
  box-sizing: border-box;
  width: $node-width;
  height: auto;
  position: relative;
  user-select: none;

  &:hover {
    border-color: var(--cui-secondary);
  }

  &.selected {
    border-color: var(--cui-dark);
  }

  .activity {
    box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.5);
    background: var(--cui-light);
  }

  .status-bar {
    height: 16px;

    &.state-executing {
      background: #0d6efd; // fallback if linear gradient is not supported
    }

    .status-text {
      font-size: 12px;
      margin-top: -2px;
    }
  }

  .activity-inputs, .activity-outputs {
    min-width: 36px;
  }

  .output {
    text-align: right;
  }

  .input {
    text-align: left;
  }

  .output-spacer {
    height: $control-port-size + 8px; // data in and out-ports should start at same height
  }

  .output-socket {
    text-align: right;
    display: inline-block;
  }

  .input-socket {
    text-align: left;
    display: inline-block;
  }

  .control-inport {
    margin-left: -$control-port-size / 2;
  }

  .data-inport {
    margin-left: -$data-port-size / 2;
  }

  .control-outport {
    margin-right: -$control-port-size / 2;
  }

  .data-outport {
    margin-right: -$data-port-size / 2;
  }

  .notes-container {
    .form-label {
      color: var(--cui-secondary);
    }

    .form-label::after {
      background: transparent;
      padding-bottom: 0;
    }
  }

  #activity-notes {
    resize: vertical;
    max-height: 95px;
    background: var(--cui-light);
  }
}